<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPA Guyana Act Navigator</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#10B981">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="EPA Navigator">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <link rel="manifest" href="manifest.json">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .search-container { max-width: 800px; margin: 0 auto; }
        .result-item { border-left: 4px solid #10B981; transition: all 0.3s ease; }
        .result-item:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .loader { border-top-color: #10B981; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        #install-prompt { display: none; position: fixed; bottom: 1rem; left: 50%; transform: translateX(-50%); z-index: 100; }
        .subsection { border-top: 1px solid #e5e7eb; padding-top: 0.75rem; margin-top: 0.75rem; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-5xl font-bold text-gray-900 mb-2">EPA Guyana Act Navigator</h1>
            <p class="text-md md:text-lg text-gray-600">Your guide to the Environmental Protection Act of Guyana</p>
        </header>

        <main>
            <div class="search-container bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-gray-200">
                <div class="flex flex-col sm:flex-row gap-4">
                    <input type="text" id="searchInput" placeholder="E.g., 'environmental impact assessment'" class="flex-grow w-full px-5 py-3 text-base text-gray-700 placeholder-gray-400 bg-gray-100 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition">
                    <button id="searchButton" class="w-full sm:w-auto bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-8 rounded-xl transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center justify-center">
                        <svg id="searchIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <div id="loader" class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 hidden mr-2"></div>
                        <span id="buttonText">Search</span>
                    </button>
                </div>
            </div>

            <div id="results" class="mt-8 md:mt-12 space-y-6"></div>
             <div id="noResults" class="hidden text-center mt-12">
                <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-16 w-16 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                <h3 class="mt-4 text-lg font-medium text-gray-900">No relevant sections found</h3>
                <p class="mt-1 text-sm text-gray-500">Try searching with different keywords.</p>
            </div>
        </main>
    </div>

    <div id="install-prompt" class="bg-gray-800 text-white py-3 px-6 rounded-lg shadow-xl flex items-center gap-4">
        <p>Install this app for offline access!</p>
        <button id="install-button" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-md">Install</button>
    </div>

    <script>
        // --- PWA Service Worker Registration ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => console.log('ServiceWorker registration successful.'))
                    .catch(err => console.log('ServiceWorker registration failed: ', err));
            });
        }

        // --- PWA Install Prompt ---
        let deferredPrompt;
        const installPromptDiv = document.getElementById('install-prompt');
        const installButton = document.getElementById('install-button');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installPromptDiv.style.display = 'flex';
        });

        installButton.addEventListener('click', async () => {
            installPromptDiv.style.display = 'none';
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            console.log(`User response to the install prompt: ${outcome}`);
            deferredPrompt = null;
        });


        // --- Application Logic ---
        const searchButton = document.getElementById('searchButton');
        const searchInput = document.getElementById('searchInput');
        const resultsDiv = document.getElementById('results');
        const noResultsDiv = document.getElementById('noResults');
        const loader = document.getElementById('loader');
        const buttonText = document.getElementById('buttonText');
        const searchIcon = document.getElementById('searchIcon');

        const environmentalProtectionAct = {
            "PART I: PRELIMINARY": {
                "Section 1: Short title": [
                    { "title": "Full Text", "content": "This Act may be cited as the Environmental Protection Act." }
                ],
                "Section 2: Interpretation": [
                    { "title": "Full Text", "content": "In this Act— 'activity' means industrial or commercial activity or activity of any other nature whatsoever, and for those purposes the keeping of a substance is to be regarded as an activity; 'adverse effect' means one or more of the following— (a) impairment of the quality of the natural environment or any use that can be made of it; (b) injury or damage to property or to plant or animal life; (c) harm or material discomfort to any person; (d) an adverse effect on the health of any person; (e) impairment of the safety of any person; (f) rendering any property or plant or animal life unfit for use by human or unfit for its role in its ecosystem; (g) loss of enjoyment of normal use of property; and (h) interference with the normal conduct of business; 'Agency' means the Environmental Protection Agency established under section 3; 'authorised person' includes any employee of the Agency, or any person authorised in writing by the Minister; 'contaminant' means any solid, liquid, gas, odour, sound, vibration, radiation, heat or combination of any of them resulting directly or indirectly from human activities that may cause an adverse effect; 'development consent' means the decision of the public authority which entitles the developer to proceed with the project; 'effluent' means any liquid, including particles of matter and other substances in suspension in the liquid and 'trade effluent' includes any effluent which is discharged from premises used for carrying on any trade or industry; and for the purposes of this definition premises wholly or mainly used (whether for profit or not) for agricultural purposes or for scientific research or experiment shall be deemed to be premises used for carrying on a trade or industry; 'environment' or 'natural environment' means all land, area beneath the land surface, atmosphere, climate, all water, surface water, ground water, sea, seabed, marine and coastal areas and natural resources, or any combination or part thereof; 'environmental authorisation' means an environmental permit, a prescribed process licence, a construction permit or an operation permit; 'environmental control instruments' means mechanisms based on financial incentives to protect the environment and shall include environmental taxes and other charges on environmentally harmful conduct; 'environmental permit' means the permit required under section 11; 'loss or damage' includes personal injury, loss of life, loss of use or enjoyment of property and pecuniary loss, including loss of income; 'natural resources' means the living plants, animals and organisms, ecosystems, forests, waterways, soils, and other biological factors within the natural environment, and the geologic formations, mineral deposits, renewable and non-renewable assets and the habitat of the living plants, animals and organisms; 'person responsible', in relation to any project, enterprise, construction or development, includes any person who owns, operates, or exercises economic power or control over or at whose order or on whose behalf the project, enterprise, construction or development will be or, as the case may be, is being undertaken; 'pollution of the environment' and 'environmental pollution' mean pollution of the environment by the release into the natural environment of any contaminant; 'prescribed process' means any process designated by the Minister in regulations as a prescribed process; 'process' means any activity carried on by any person which is capable of causing any adverse effect on the environment; 'public authority' means any Ministry, local government authority or local democratic organ; 'regulations' means regulations made by the Minister under this Act; 'release' of a substance into any environmental medium whenever it is released directly or indirectly into that medium includes— (a) in relation to air, any emission of the substance into the air; (b) in relation to water, any entry (including any discharge) of the substance into water; (c) in relation to land, any deposit, keeping or disposal of the substance in or on land; 'waste' includes any matter prescribed to be waste and any matter, whether liquid, solid, gaseous or radioactive, which is discharged, emitted, or deposited in the environment in such volume, composition or manner as to cause an adverse effect." }
                ]
            },
            "PART II: ESTABLISHMENT AND FUNCTIONS OF AGENCY": {
                "Section 3: Establishment of Agency": [
                    { "title": "Subsection (1)", "content": "There is hereby established the Environmental Protection Agency which shall be a body corporate governed by a Board of Directors." },
                    { "title": "Subsection (2)", "content": "The First and Second Schedules shall have effect as to the matters therein provided for in relation to the Agency and the Board of Directors, respectively." }
                ],
                "Section 4: Functions of Agency": [
                    { "title": "Subsection (1)", "content": "The functions of the Agency are— (a) to take such steps as are necessary for the effective management of the natural environment so as to ensure conservation, protection, and sustainable use of its natural resources; (b) to promote the participation of members of the public in the process of integrating environmental concerns in planning for development on a sustainable basis; (c) to co-ordinate the environmental management activities of all persons, organisations and agencies; (d) to establish, monitor and enforce environmental regulations; (e) to prevent or control environmental pollution; (f) to co-ordinate an integrated coastal zone management programme; (g) to ensure that any developmental activity which may cause an adverse effect on the natural environment be assessed before such activity is commenced and that such adverse effect be taken into account in deciding whether or not such activity should be authorised; (h) to co-ordinate and maintain a programme for the conservation of biological diversity and its sustainable use; (i) to co-ordinate the establishment and maintenance of a national parks and protected area system and a wildlife protection management programme; (j) to promote and encourage a better understanding and appreciation of the natural environment and its role in social and economic development; (k) to establish and co-ordinate institutional linkages locally, nationally, regionally and internationally; (l) to play a co-ordinating role in the preparation and implementation of cross-sectoral programmes of environmental contents; (m) to advise the Minister on the criteria and thresholds of activity for specifying what may amount to a significant effect on the environment; (n) to advise the Minister on matters of general policy relating to the protection, conservation and care of the environment and the impact of development; (o) to perform such other functions pertaining to the protection of the environment as may be assigned to it by the Minister by or under this Act or any other law." },
                    { "title": "Subsection (2)", "content": "In the exercise of its functions the Agency may— (a) formulate and submit to the Minister policy recommendations and plans in furtherance of its functions; (b) conduct surveys, investigations and monitoring of the causes, nature, extent and prevention of harm to the environment and of pollution and assist and co-operate with other persons or bodies carrying out similar surveys or investigations; (c) conduct, promote and co-ordinate research in relation to any aspect of pollution or prevention thereof; (d) conduct inspections and investigations to ensure compliance with this Act or the regulations and investigate complaints relating to breaches of this Act or the regulations; (e) provide information and education to the public regarding the need for and methods of protection of the environment, improvement of the environment where altered directly or indirectly by human activity, and the benefits of sustainable use of natural resources; (f) conduct and co-ordinate compilation of resource inventories, surveys and ecological analyses to monitor and obtain information on the social and biophysical environment with special reference to environmentally sensitive areas and areas where development is already taking place or likely to take place; (g) formulate standards and codes of practice to be observed for the improvement and maintenance of the quality of the environment and limits on the release of contaminants into the environment; (h) request, examine, review, evaluate and approve or reject environmental impact assessments and risk analyses and make suitable recommendations for the mitigation of adverse effects of any proposed activity on the environment; (i) conduct studies and make recommendations on standards relating to the improvement of the environment and the maintenance of a sound ecological system; (j) monitor and co-ordinate monitoring of trends in the use of natural resources and their impact on the environment; (k) establish and enforce administrative penalties; (l) advise the Minister on the content and applicability of environmental control instruments; (m) produce sectoral guidelines on what may constitute significant effects on the environment; (n) obtain expert or technical advice from any suitably qualified person on such terms and conditions as the Agency shall think fit." },
                    { "title": "Subsection (3)", "content": "In the exercise of its functions the Agency shall— (a) compile and amend from time to time with the assistance of internationally recognised environmental groups a list of approved persons who have the qualifications and experience to carry out environmental impact assessments; (b) produce physical accounts in accordance with modern accounting standards to record the natural capital of Guyana; (c) carry out surveys and obtain baseline information on the natural resources including ecosystems and micro ecosystems, population counts, species identification, location and condition and make such surveys, studies and information available to members of the public at their request and upon payment of the cost of photocopies; (d) provide general information to the public on the state of the environment by regular reports produced at least annually; (e) maintain and make available to members of the public during normal working hours a register of all environmental impact assessments carried out, environmental authorisations granted and other information in accordance with section 36." },
                    { "title": "Subsection (4)", "content": "In performing its functions the Agency shall make use of current principles of environmental management, namely— (a) the 'polluter pays' principle: the polluter should bear the cost of measures to reduce pollution decided upon by public authorities, to ensure that the environment is in an acceptable state, and should compensate citizens for the harm they suffer from pollution; (b) the 'precautionary' principle: where there are threats of serious or irreversible damage, lack of full scientific certainty shall not be used as a reason for postponing measures to prevent environmental degradation; (c) the 'strict liability' legal principle: any person who contravenes this Act or regulations shall be liable to the penalties prescribed therefor; (d) the 'avoidance' principle: it is preferable to avoid environmental damage as it can be impossible or more expensive to repair rather than prevent damage; (e) the 'state of technology' principle: measures protecting the environment are restricted by what is technologically feasible and as technology improves, the improved technology should be used to prevent and repair environmental damage." }
                ],
                "Section 5: Deference to authority of Agency": [
                    { "title": "Full Text", "content": "Without prejudice to the provisions of section 14, any person or authority under any other written law, vested with power in relation to the environment shall defer to the authority of the Agency and shall request an environmental authorisation from the Agency before approving or determining any matter in respect of which an environmental authorisation is required under this Act." }
                ]
            },
            "PART IV: ENVIRONMENTAL IMPACT ASSESSMENTS": {
                "Section 11: Requirement for environmental impact assessment": [
                    { "title": "Subsection (1)", "content": "A developer of any project listed in the Fourth Schedule, or any other project which may significantly affect the environment, shall apply to the Agency for an environmental permit and shall submit with such application the fee prescribed and a summary of the project including information on— (i) the site, design and size of the project; (ii) possible effects on the environment; (iii) the duration of the project; (iv) a non-technical explanation of the project." },
                    { "title": "Subsection (2)", "content": "Where it is not clear whether a project will significantly affect the environment, the developer shall submit to the Agency a summary of the project which shall contain the information as required by subsection (1) and the Agency shall within a reasonable period publish in at least one daily newspaper a decision with reasons as to whether the project— (a) will not significantly affect the environment, and therefore exempt from the requirement for an environmental impact assessment; or (b) may significantly affect the environment and will require an environmental impact assessment." },
                    { "title": "Subsection (3)", "content": "(a) Any person who may be affected by a project exempted under subsection (2)(a) may lodge an appeal with the Environmental Assessment Board established under section 18 within thirty days of the date of publication of the Agency's decision, and the Environmental Assessment Board shall within a reasonable time publish a decision confirming or setting aside the Agency's decision. (b) Every person who commences a project before final determination of an appeal under paragraph (a) shall be guilty of an offence and shall be liable to the penalties prescribed under paragraph (d) of the Fifth Schedule." },
                    { "title": "Subsection (4)", "content": "Every environmental impact assessment shall be carried out by an independent and suitably qualified person approved by the Agency and shall— (a) identify, describe and evaluate the direct and indirect effects of the proposed project on the environment including— (i) human beings; (ii) flora and fauna and species habitats; (iii) soil; (iv) water; (v) air and climatic factors; (vi) material assets, the cultural heritage and the landscape; (vii) natural resources, including how much of a particular resource is degraded or eliminated, and how quickly the natural system may deteriorate; (b) assess every project with a view to the need to protect and improve human health and living conditions and the need to preserve the stability of ecosystems as well as the diversity of species." },
                    { "title": "Subsection (5)", "content": "Every environmental impact assessment shall contain the following information— (a) a description of the project...; (b) an outline of the main alternatives studied by the developer...; (c) a description of the likely significant effects of the proposed project on the environment...; (d) an indication of any difficulties... encountered by the developer...; (e) a description of the best available technology; (f) a description of any hazards or dangers which may arise...; (g) a description of the measures which the proposed developer intends to use to mitigate any adverse effects...; (h) a statement of the degree of irreversible damage...; (i) an emergency response plan...; (j) the developer's programme for rehabilitation and restoration of the environment; (k) a non-technical summary of the information provided..." },
                    { "title": "Subsection (6)", "content": "Before any environmental impact assessment is begun the Agency shall at the developer's cost publish in at least one daily newspaper a notice of the project and make available to members of the public the project summary referred to in subsection (1)." },
                    { "title": "Subsection (7)", "content": "Members of the public shall have twenty-eight days from the date of publication referred to in subsection (6) to make written submissions to the Agency setting out those questions and matters which they require to be answered or considered in the environmental impact assessment." },
                    { "title": "Subsection (10)", "content": "The developer and the person carrying out the environmental impact assessment shall submit the environmental impact assessment together with an environmental impact statement to the Agency for evaluation and recommendations and publish a notice in at least one daily newspaper confirming that the environmental impact assessment and environmental impact statement have been submitted to the Agency and members of the public shall have sixty days from the date of publication of such notice to make such submissions to the Agency as they consider appropriate." }
                ],
                "Section 15: Cessation": [
                    { "title": "Subsection (1)", "content": "Every person who fails to carry out an environmental impact assessment or who commences a project without obtaining an environmental permit as required under this Act or the regulations shall be guilty of an offence and shall be liable to the penalties prescribed under paragraph (d) of the Fifth Schedule." },
                    { "title": "Subsection (2)", "content": "Where any project is being carried on or has been started without an environmental permit as required by this Act the Agency shall immediately serve an order in writing to the person responsible directing him to immediately stop the project." }
                ]
            },
            "PART V: PREVENTION AND CONTROL OF POLLUTION": {
                "Section 19: Prevention of pollution": [
                    { "title": "Subsection (1)", "content": "A person shall not— (a) undertake an activity that causes or is likely to cause pollution of the environment unless the person takes all reasonable and practicable measures to prevent or minimise any resulting adverse effect; (b) discharge or cause or permit the entry into the environment, of any contaminant in any amount, concentration or level in excess of that prescribed by the regulations or stipulated by any environmental authorisation." },
                    { "title": "Subsection (2)", "content": "(a) Any person who contravenes subsection (1)(a) shall be guilty of an offence and shall be liable to the penalties prescribed under paragraph (f) of the Fifth Schedule, (b) Any person who contravenes subsection (1)(b) shall be guilty of an offence and shall be liable to the penalties prescribed under paragraph (e) of the Fifth Schedule." },
                    { "title": "Subsection (3)", "content": "Where subsection (1) is contravened the person responsible for the contaminant or for the process involving the contaminant or who causes or permits a discharge in contravention of subsection (1) shall - (a) immediately notify the Agency of— (i) the discharge; (ii) the concentration and amount of contaminant; (iii) the circumstances of the discharge; (iv) what action the person has taken or intends to take to restore the natural environment; and (b) subject to the conditions of any order issued under subsection (4), restore the natural environment by - (i) rescuing and restoring all plants, animals and other organisms; (ii) cleaning up, removing or neutralising the contaminant; (iii) restoring the air, land and water to the condition they were in before the discharge; (c) be liable to pay for the cost of an independent investigation into the discharge; (d) deposit with the Agency a sum of money equal to the estimated costs of restoration and investigation; (e) be liable to compensate any person who suffers any loss or damage as a result of any contravention of subsection (1); (f) do everything practicable to preserve, for investigation, evidence of the effects of the discharge." }
                ],
                "Section 26: Enforcement notices": [
                    { "title": "Subsection (1)", "content": "If the Agency is of the opinion that a person is contravening any condition of any environmental authorisation, or is likely to contravene any such condition, the Agency may serve on him an enforcement notice." },
                    { "title": "Subsection (2)", "content": "An enforcement notice shall— (a) state the opinion of the Agency regarding the contravention or likely contravention referred to in subsection (1); (b) specify the matters constituting the contravention or the matters making it likely that the contravention will arise, as the case may be; (c) specify the steps that must be taken to remedy the contravention or to remedy the matters making it likely that the contravention will arise, as the case may be; and (d) specify the periods within which those steps must be taken." }
                ],
                "Section 27: Prohibition notices": [
                    { "title": "Subsection (1)", "content": "Subject to the provisions of this section, where it appears to the Agency that any activity in any area is such as to pose— (a) a serious threat to natural resources or the environment; or (b) risk of serious pollution of the environment or any damage to public health, the Agency shall serve on the person responsible for the activity, a prohibition notice." },
                    { "title": "Subsection (2)", "content": "A prohibition notice shall— (a) state the Agency's opinion in respect of the activity in question; (b) specify the use or threat involved; (c) specify the offending activity and require such steps as may be specified in the notice to be taken within such period as may be so specified to ameliorate the effect of the activity and, where appropriate, to restore the natural resources and environment to their condition before the activity took place." },
                    { "title": "Subsection (3)", "content": "The Agency shall in the prohibition notice order the immediate cessation of the offending activity if it is of the opinion that the circumstances giving rise to the notice are such as to warrant an order to that effect or where any threat under subsection (1) is likely to have consequences which are irremediable or immediate, and shall specify in the notice the period within which an appeal against its decision to order cessation may be made pursuant to section 28." }
                ]
            },
            "PART VII: INVESTIGATIONS, PROSECUTIONS, CIVIL PROCEEDINGS": {
                "Section 34: Certain specific offences": [
                    { "title": "Subsection (1)", "content": "(a) Any person who throws down, abandons, drops or otherwise deposits or leaves anything in any manner whatsoever in circumstances as to cause, or contribute to, or tend to lead to litter shall be guilty of an offence and shall be liable to the penalties prescribed under paragraph (a) of the Fifth Schedule. (b) Any person responsible for any function which results in any litter shall be guilty of an offence and shall be liable to the penalties prescribed under paragraph (b) of the Fifth Schedule." },
                    { "title": "Subsection (2)", "content": "Any person— (a) other than a person referred to in paragraph (b), who is responsible for any noise which results in an adverse effect, or (b) who is responsible for any function which creates noise that results in any adverse effect or for any premises at which the function takes place, shall be guilty of an offence and shall be liable in respect of the first and second mentioned persons to the penalties prescribed under paragraphs (a) and (b), respectively, of the Fifth Schedule." }
                ],
                "Section 39: Damage to environment": [
                    { "title": "Subsection (1)", "content": "Every person who causes material environmental harm by polluting the environment intentionally or recklessly and with the 'knowledge that material environmental harm will or might result is guilty of an offence and shall be liable to the penalties prescribed under paragraph (f) of the Fifth Schedule." },
                    { "title": "Subsection (2)", "content": "Every person who causes material environmental harm by polluting the environment is guilty of an offence and shall be liable to the penalties prescribed under paragraph (e) of the Fifth Schedule." },
                    { "title": "Subsection (3)", "content": "Every person who causes serious environmental harm by polluting the environment intentionally or recklessly and with the knowledge that serious environmental harm will or might result is guilty of an offence and shall be liable to the penalties prescribed under paragraph (h) of the Fifth Schedule." },
                    { "title": "Subsection (4)", "content": "Every person who causes serious environmental harm by polluting the environment is guilty of an offence and shall be liable to the penalties prescribed under paragraph (f) of the Fifth Schedule." },
                    { "title": "Subsection (5)", "content": "Environmental harm is to be treated as material environmental harm if— (i) it consists of an environmental nuisance of a high impact or on a wide scale; or (ii) it involves actual or potential harm to the health or safety of human beings that is not trivial, or other actual or potential environmental harm (not being merely an environmental nuisance) that is not trivial." },
                    { "title": "Subsection (6)", "content": "Environmental harm is to be treated as serious environmental harm if it involves actual or potential harm to the health or safety of human beings that is of a high impact or on a wide scale, or other actual or potential environmental harm (not being merely an environmental nuisance) that is of a high impact or on a wide scale." }
                ],
                "Section 48: Civil proceedings": [
                    { "title": "Subsection (1)", "content": "Any person who has suffered loss or damage as a result of the commission by any other person of any offence under this Act or any conduct that is contrary to this Act or the regulations may, in the High Court, sue for the recovery from the person who committed the offence or engaged in the conduct an amount equal to the loss or damage proved to have been suffered by the person and an amount to compensate for the costs of any investigation in connection with the matter and of proceedings under this section." },
                    { "title": "Subsection (2)", "content": "Any person who suffers or is about to suffer loss or damage as a result of conduct that is contrary to any provision of this Act or the regulations may seek an injunction from the High Court ordering the person engaged in the conduct— (a) to refrain from doing any act or thing that it appears to the Court causes or will cause the loss or damage; or (b) to do any act or thing that it appears to the Court prevents or will prevent the loss or damage." }
                ]
            }
        };

        const performSearch = () => {
            const query = searchInput.value.toLowerCase().trim();
            if (!query) {
                resultsDiv.innerHTML = '<p class="text-center text-gray-500">Please enter a question to search.</p>';
                noResultsDiv.classList.add('hidden');
                return;
            }

            loader.classList.remove('hidden');
            searchIcon.classList.add('hidden');
            buttonText.textContent = 'Searching...';
            searchButton.disabled = true;
            searchInput.disabled = true;
            resultsDiv.innerHTML = '';
            noResultsDiv.classList.add('hidden');

            setTimeout(() => {
                const keywords = query.split(/\s+/).filter(word => word.length > 2);
                let searchResults = [];

                for (const part in environmentalProtectionAct) {
                    for (const section in environmentalProtectionAct[part]) {
                        const subsections = environmentalProtectionAct[part][section];
                        let sectionIsMatch = false;
                        let totalScore = 0;

                        const partTitle = part.toLowerCase();
                        const sectionTitle = section.toLowerCase();

                        keywords.forEach(keyword => {
                            if (sectionTitle.includes(keyword)) {
                                sectionIsMatch = true;
                                totalScore += 10;
                            }
                             if (partTitle.includes(keyword)) {
                                sectionIsMatch = true;
                                totalScore += 5;
                            }
                        });
                        
                        subsections.forEach(subsection => {
                            const content = subsection.content.toLowerCase();
                            keywords.forEach(keyword => {
                                if (content.includes(keyword)) {
                                    sectionIsMatch = true;
                                    totalScore += 2;
                                }
                            });
                        });

                        if (sectionIsMatch) {
                            searchResults.push({
                                part,
                                section,
                                subsections,
                                score: totalScore
                            });
                        }
                    }
                }

                searchResults.sort((a, b) => b.score - a.score);

                if (searchResults.length > 0) {
                    displayResults(searchResults);
                } else {
                    noResultsDiv.classList.remove('hidden');
                }

                loader.classList.add('hidden');
                searchIcon.classList.remove('hidden');
                buttonText.textContent = 'Search';
                searchButton.disabled = false;
                searchInput.disabled = false;

            }, 1000);
        };

        const displayResults = (results) => {
            resultsDiv.innerHTML = results.map(result => {
                const subsectionsHtml = result.subsections.map(sub => `
                    <div class="subsection">
                        <h4 class="font-semibold text-gray-700">${sub.title}</h4>
                        <p class="text-gray-600 leading-relaxed">${highlightKeywords(sub.content, searchInput.value)}</p>
                    </div>
                `).join('');

                return `
                    <div class="result-item bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                        <span class="inline-block bg-emerald-100 text-emerald-800 text-xs font-semibold px-3 py-1 rounded-full mb-3">${result.part}</span>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">${result.section}</h3>
                        ${subsectionsHtml}
                    </div>
                `;
            }).join('');
        };

        const highlightKeywords = (text, query) => {
            const keywords = query.toLowerCase().split(/\s+/).filter(word => word.length > 2);
            let highlightedText = text;
            keywords.forEach(keyword => {
                const regex = new RegExp(`(${keyword})`, 'gi');
                highlightedText = highlightedText.replace(regex, '<strong class="bg-emerald-100 font-semibold">$1</strong>');
            });
            return highlightedText;
        };

        searchButton.addEventListener('click', performSearch);
        searchInput.addEventListener('keyup', (event) => {
            if (event.key === 'Enter') {
                performSearch();
            }
        });
    </script>

</body>
</html>
